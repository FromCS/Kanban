<Window x:Class="Canvas.Windows.NewProjectWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:Canvas.Windows"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        Foreground="Azure"
        Title="Новый проект" Height="500" Width="400">
    <StackPanel>
        <GroupBox BorderThickness="0.5"
                  BorderBrush="DarkGray">
            <GroupBox.HeaderTemplate>
                <DataTemplate>
                    <TextBlock Text="Основные параметры"
                               FontSize="16"
                               Foreground="DarkGray"></TextBlock>
                </DataTemplate>
            </GroupBox.HeaderTemplate>
            
            <StackPanel Margin="5">
                <TextBlock Text="Наименование"></TextBlock>
                <TextBox Text="{Binding ProjectName, Mode=TwoWay}" Margin="0,5,0,0"></TextBox>
                
                <TextBlock Margin="0,5,0,0" Text="Категория работ"></TextBlock>
                <TextBox Text="{Binding WorkCategory, Mode=TwoWay}" Margin="0,5,0,0"></TextBox>
                
                <TextBlock Margin="0,5,0,0" Text="Приоритет"></TextBlock>
                <ComboBox SelectedItem="{Binding Priority, Mode=TwoWay}" Margin="0,5,0,0">
                    <ComboBoxItem>Отложенный</ComboBoxItem>
                    <ComboBoxItem>Низкий</ComboBoxItem>
                    <ComboBoxItem>Средний</ComboBoxItem>
                    <ComboBoxItem>Высокий</ComboBoxItem>
                </ComboBox>
            </StackPanel>
        </GroupBox>
        
        <GroupBox BorderThickness="0.5"
                  BorderBrush="DarkGray">
            <GroupBox.HeaderTemplate>
                <DataTemplate>
                    <TextBlock Text="Легенда выполнения"
                               FontSize="16"
                               Foreground="DarkGray"></TextBlock>
                </DataTemplate>
            </GroupBox.HeaderTemplate>
            
            <StackPanel Margin="5">
                <TextBlock Text="Шаблон"></TextBlock>
                <TextBox Margin="0,5,0,0"></TextBox>
                
                <TreeView Margin=" 0,10,0,0" ItemsSource="{Binding Steps, Mode=TwoWay}">
                    <TreeView.ItemTemplate>
                        <HierarchicalDataTemplate ItemsSource="{Binding Steps, Mode=TwoWay}">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="{Binding StepName}"></TextBlock>
                                <Button Command="{Binding AddNestedStep}" FontSize="10" Margin="10,0,0,0">+</Button>
                                <Button Command="{Binding RemoveSelf}" FontSize="10" Margin="10,0,0,0">Remove</Button>
                            </StackPanel>
                        </HierarchicalDataTemplate>
                    </TreeView.ItemTemplate>
                </TreeView>
                <Button Command="{Binding AddStepToTree}" Margin="0,10,0,0">Add new STEP</Button>
            </StackPanel>
        </GroupBox>
        <Button Command="{Binding AddNewProjectToDb}" Margin="10" Content="CLICK ME PLEASE"></Button>
    </StackPanel>
</Window>
